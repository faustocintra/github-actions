name: Deploy
permissions:
    contents: write
on:
    push:
        # AÃ§Ã£o serÃ¡ disparada quando for dado push no main
        branches: [main]
jobs:
    build-and-deploy:
        # Especifica a arquitetura do container
        runs-on: ubuntu-latest

        # Passos da tarefa
        steps:
            # 1) Clona o repositÃ³rio no container
            - uses: actions/checkout@v3

            # 2) Assegura que o Node estÃ¡ instalado no container
            # com uma versÃ£o especÃ­fica
            - name: "Use Node.js v. 18"
              uses: actions/setup-node@v3
              with:
                node-version: 18
                cache: 'npm'

            # 3) Instala as dependÃªncias
            - run: npm install

            # 4) Fazer o build do projeto
            - run: npm run build

            # 5) Publicar em GitHub pages
            - name: Deploy ğŸš€
              uses: JamesIves/github-pages-deploy-action@v4
              with:
                folder: dist # The folder the action should deploy.


