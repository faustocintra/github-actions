name: Deploy
on:
    push:
        # A√ß√£o ser√° disparada quando for dado push no main
        branches: [ main ]

permissions:
    contents: write

jobs:
    build-and-deploy:
        # Especifica a arquitetura do container
        runs-on: ubuntu-latest

        # Passos da tarefa
        steps:
            # 1) Clona o reposit√≥rio no container
            - uses: actions/checkout@v3

            # 2) Assegura que o Node est√° instalado no container
            # com uma vers√£o espec√≠fica
            - name: "Use Node.js v. 18"
              uses: actions/setup-node@v3
              with:
                node-version: 18
                cache: 'npm'

            # 3) Instala as depend√™ncias
            - run: npm install

            # 4) Fazer o build do projeto
            - run: npm run build

            # 5) Fazer a publica√ß√£o no GitHub Pages
            - name: Deploy üöÄ
              uses: JamesIves/github-pages-deploy-action@v4
              with:
                folder: dist # The folder the action should deploy.


